{
  "hash": "e5162385ea672ddf406e2aad04d6afa5",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Evaluating causality in observational data\nauthor: Erdem Karaköylü\ndate: '2022-01-15'\ncategories:\n  - Bayesian A/B/n\n  - pivoting\n  - categorical regression\n  - ZeroSumNormal\n  - Python\nimage: './Bayestonia.png'\nformat:\n  html:\n    code-fold: true\njupyter: python3\n---\n\n\n\n<u>**Preamble**</u>: This is a data analysis and modeling project to predict voter party preference in Estonia on the basis of demographics. The intended process involves initial data exploration, followed by the construction, fitting, and analysis of a series of increasingly complex Bayesian categorical models. This Bayesian approach offers a robust alternative to traditional frequentist Analysis of Variance (ANOVA) methods commonly employed in scientific research and A/B/n testing in fields such as marketing, user experience (UX), and web design. A significant benefit of the Bayesian model is its inherent ability to quantify predictive uncertainty through the calculation of posterior (inferential) probability distributions, contrasting with the reliance on sampling distributions in frequentist procedures\n\n<u>**Contents**</u>:\n\n1. Exploratory Data Analysis\n2. Modeling\n    <br> $→$ Model Building and, Prior Elicitation and Prior Predictive Checks\n    <br> $→$ Model Fitting and Goodness-of-Fit Analysis\n    <br> $→$ Posterior Predictive Checks\n    <br> $→$ Summary and Conclusion\n\n <u>**Data Provenance**</u>: This data is courtesy of [SALK](https://salk.ee/). SALK refers to the Liberal Citizen Foundation in Estonia; a political organization aimed at influencing Estonian policy and parliamentary elections. This foundation was established with the (ultimately attained) goal of helping liberal forces gain a majority in the 2023 Estonian parliamentary elections.\n\n<u>**Acknowledgments**</u>: I thank [Alex Andorra](https://topmate.io/alex_andorra) and the folks at [Intuitive Bayes](https://www.intuitivebayes.com/) for helping me understand non-identifiability and overparameterization in statistical modeling.\n\n::: {#18ddcb85 .cell execution_count=1}\n``` {.python .cell-code}\nimport arviz as az\nimport matplotlib.pyplot as pp\nfrom matplotlib import rcParams\nimport numpy as np\nimport pandas as pd\n\nimport pymc as pm\n```\n:::\n\n\n::: {#a1ff46df .cell execution_count=2}\n``` {.python .cell-code}\nrcParams['font.size'] = 12\n```\n:::\n\n\n#### 1. Exploratory Data Analysis\n\n::: {#a5bec78e .cell execution_count=3}\n``` {.python .cell-code}\ndata = pd.read_csv('~/projex/elections/data/estonian-data.csv')\n```\n:::\n\n\n::: {#367612ee .cell execution_count=4}\n``` {.python .cell-code}\ndata.head().T\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>0</th>\n      <th>1</th>\n      <th>2</th>\n      <th>3</th>\n      <th>4</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>age_group</th>\n      <td>16-24</td>\n      <td>16-24</td>\n      <td>16-24</td>\n      <td>16-24</td>\n      <td>16-24</td>\n    </tr>\n    <tr>\n      <th>education</th>\n      <td>Basic education</td>\n      <td>Basic education</td>\n      <td>Basic education</td>\n      <td>Basic education</td>\n      <td>Basic education</td>\n    </tr>\n    <tr>\n      <th>gender</th>\n      <td>Male</td>\n      <td>Male</td>\n      <td>Male</td>\n      <td>Male</td>\n      <td>Male</td>\n    </tr>\n    <tr>\n      <th>nationality</th>\n      <td>Estonian</td>\n      <td>Estonian</td>\n      <td>Estonian</td>\n      <td>Estonian</td>\n      <td>Estonian</td>\n    </tr>\n    <tr>\n      <th>electoral_district</th>\n      <td>Haabersti, Põhja-Tallinn ja Kristiine</td>\n      <td>Harju- ja Raplamaa</td>\n      <td>Harju- ja Raplamaa</td>\n      <td>Harju- ja Raplamaa</td>\n      <td>Harju- ja Raplamaa</td>\n    </tr>\n    <tr>\n      <th>unit</th>\n      <td>Kristiine</td>\n      <td>Harjumaa</td>\n      <td>Harjumaa</td>\n      <td>Harjumaa</td>\n      <td>Harjumaa</td>\n    </tr>\n    <tr>\n      <th>EKRE</th>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Eesti 200</th>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Hard to say</th>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Isamaa</th>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Keskerakond</th>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>Mitte ükski erakond</th>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Other</th>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Parempoolsed</th>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Reformierakond</th>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Rohelised</th>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>SDE</th>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nI don't like the \"Hard to say\" column name; replace below with the clearer \"Undecided\" label.\n\n::: {#9cf1781b .cell execution_count=5}\n``` {.python .cell-code}\ndata.rename(columns={'Hard to say': 'Undecided'}, inplace=True)\n```\n:::\n\n\n::: {#828e81f8 .cell execution_count=6}\n``` {.python .cell-code}\ndata.info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 5206 entries, 0 to 5205\nData columns (total 17 columns):\n #   Column               Non-Null Count  Dtype \n---  ------               --------------  ----- \n 0   age_group            5206 non-null   object\n 1   education            5206 non-null   object\n 2   gender               5206 non-null   object\n 3   nationality          5206 non-null   object\n 4   electoral_district   5206 non-null   object\n 5   unit                 5206 non-null   object\n 6   EKRE                 5206 non-null   int64 \n 7   Eesti 200            5206 non-null   int64 \n 8   Undecided            5206 non-null   int64 \n 9   Isamaa               5206 non-null   int64 \n 10  Keskerakond          5206 non-null   int64 \n 11  Mitte ükski erakond  5206 non-null   int64 \n 12  Other                5206 non-null   int64 \n 13  Parempoolsed         5206 non-null   int64 \n 14  Reformierakond       5206 non-null   int64 \n 15  Rohelised            5206 non-null   int64 \n 16  SDE                  5206 non-null   int64 \ndtypes: int64(11), object(6)\nmemory usage: 691.6+ KB\n```\n:::\n:::\n\n\n::: {#0ac6795a .cell execution_count=7}\n``` {.python .cell-code}\ndata.columns.tolist()\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```\n['age_group',\n 'education',\n 'gender',\n 'nationality',\n 'electoral_district',\n 'unit',\n 'EKRE',\n 'Eesti 200',\n 'Undecided',\n 'Isamaa',\n 'Keskerakond',\n 'Mitte ükski erakond',\n 'Other',\n 'Parempoolsed',\n 'Reformierakond',\n 'Rohelised',\n 'SDE']\n```\n:::\n:::\n\n\n::: {#4fe51927 .cell execution_count=8}\n``` {.python .cell-code}\ndata.describe().T\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>count</th>\n      <th>mean</th>\n      <th>std</th>\n      <th>min</th>\n      <th>25%</th>\n      <th>50%</th>\n      <th>75%</th>\n      <th>max</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>EKRE</th>\n      <td>5206.0</td>\n      <td>0.124856</td>\n      <td>0.330587</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Eesti 200</th>\n      <td>5206.0</td>\n      <td>0.082981</td>\n      <td>0.275880</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Undecided</th>\n      <td>5206.0</td>\n      <td>0.127353</td>\n      <td>0.333400</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Isamaa</th>\n      <td>5206.0</td>\n      <td>0.054552</td>\n      <td>0.227126</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Keskerakond</th>\n      <td>5206.0</td>\n      <td>0.119285</td>\n      <td>0.324155</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Mitte ükski erakond</th>\n      <td>5206.0</td>\n      <td>0.181521</td>\n      <td>0.385487</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Other</th>\n      <td>5206.0</td>\n      <td>0.007876</td>\n      <td>0.088403</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Parempoolsed</th>\n      <td>5206.0</td>\n      <td>0.002305</td>\n      <td>0.047960</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Reformierakond</th>\n      <td>5206.0</td>\n      <td>0.215136</td>\n      <td>0.410956</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Rohelised</th>\n      <td>5206.0</td>\n      <td>0.017480</td>\n      <td>0.131063</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>SDE</th>\n      <td>5206.0</td>\n      <td>0.066654</td>\n      <td>0.249446</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#4cd898e9 .cell execution_count=9}\n``` {.python .cell-code}\ndata.loc[:, 'EKRE':].sum(axis=1).describe().loc[['min', 'max']]\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```\nmin    1.0\nmax    1.0\ndtype: float64\n```\n:::\n:::\n\n\n::: {#ca72a8e7 .cell execution_count=10}\n``` {.python .cell-code}\ndata.loc[:, 'EKRE':].sum(axis=0).plot(kind='bar', title='Party Choice', ylabel='Counts', color='black', alpha=0.6);\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-11-output-1.png){width=611 height=578}\n:::\n:::\n\n\n::: {#24755e65 .cell execution_count=11}\n``` {.python .cell-code}\ndata.electoral_district.unique().size, data.unit.unique().size\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n```\n(12, 24)\n```\n:::\n:::\n\n\n::: {#453f5634 .cell execution_count=12}\n``` {.python .cell-code}\nf, (left, right) = pp.subplots(ncols=2, figsize=(12, 6), sharey=True)\ndata.electoral_district.value_counts(normalize=True).plot(kind='bar', color=['black', 'darkgray'], ax=left)\ndata.unit.value_counts(normalize=True).plot(kind='bar', color=['darkgray', 'black'])\nleft.set_xticklabels(left.get_xticklabels(), rotation=90)\nf.tight_layout();\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-13-output-1.png){width=1147 height=558}\n:::\n:::\n\n\n::: {#8a6435c7 .cell execution_count=13}\n``` {.python .cell-code}\nf, (left, right) = pp.subplots(ncols=2, figsize=(10, 4), sharey=True)\ndata.age_group.value_counts(normalize=True, sort=False).plot(kind='bar', color=[f'C{i}' for i in range(7)], ax=left);\ndata.gender.value_counts(normalize=True).plot(kind='bar', color= ['C7', 'C8'], ax=right)\nleft.set(ylabel='Fraction', xlabel='age group')\nf.tight_layout()\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-14-output-1.png){width=945 height=369}\n:::\n:::\n\n\n::: {#52807fca .cell execution_count=14}\n``` {.python .cell-code}\ndata.education.value_counts()\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```\neducation\nSecondary education    2684\nHigher education       1948\nBasic education         574\nName: count, dtype: int64\n```\n:::\n:::\n\n\n::: {#f72395b3 .cell execution_count=15}\n``` {.python .cell-code}\nf, (left, right) = pp.subplots(ncols=2, figsize=(10, 4), sharey=True)\ndata.education.value_counts(normalize=True).plot(kind='bar', color=[f'C{i}' for i in range(0, 3)], ax=left)\ndata.nationality.value_counts(normalize=True).plot(kind='bar', color=['C3', 'C4'])\nleft.set_xticklabels(left.get_xticklabels(), rotation=50)\nf.tight_layout();\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-16-output-1.png){width=945 height=369}\n:::\n:::\n\n\n##### Preliminary summary:\n\nThis table registers voter preference. Each row is a voter. Columns include voter demographics, the election district and unit. The rest of the columns are each dedicated to a party.  Data are in the thousands with no apparent missing value.\nThere are two types of data; (1) strings that lend themselves to categorization, and (2) binary data indicating whether a given party has received the vote of that row's  voter. There were no irregularities, i.e. more than 1 vote registered for each person;  there were no abstentions noted in this dataset either. \nAll the data is categorical with the following number of categories:\n* Party choice $→$ 11\n* Electoral district $\\rightarrow$ 12\n* (Electoral) Unit $→$ 24\n* AGe group $→$ 7\n* Gender $→$ 2\n* Education $→$ 3\n* Nationality $→$ 2\n\n\n##### Preliminary summary, part 2: \nThere is some imbalance in education level, with secondary education being the more proeminent. There is notable imbalance in nationality, with predictable majority of Estonian representation. Party choice, electoral district and unit are also quite imbalanced. Next is to examine party representation breakdown at the  group level. Note that I will not consider electoral district and unit hereafter as the emphasis is on demographics as a driver of party choice.\n\n::: {#0776ef0d .cell execution_count=16}\n``` {.python .cell-code}\ndef make_group_percentage(df: pd.DataFrame, category: 'str') -> pd.DataFrame:\n    \"\"\"Computes percentage for each column in a group\"\"\"\n    group = df.groupby(category).sum(numeric_only=True)\n    group_percent = group.div(group.sum(axis=1), axis=0)*100\n    return group_percent\n```\n:::\n\n\n::: {#cd3df71b .cell execution_count=17}\n``` {.python .cell-code}\nparty_names = data.loc[:, 'EKRE':].columns.tolist()\nparty_names\n```\n\n::: {.cell-output .cell-output-display execution_count=17}\n```\n['EKRE',\n 'Eesti 200',\n 'Undecided',\n 'Isamaa',\n 'Keskerakond',\n 'Mitte ükski erakond',\n 'Other',\n 'Parempoolsed',\n 'Reformierakond',\n 'Rohelised',\n 'SDE']\n```\n:::\n:::\n\n\n::: {#a3f07447 .cell execution_count=18}\n``` {.python .cell-code}\ndata.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=18}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>age_group</th>\n      <th>education</th>\n      <th>gender</th>\n      <th>nationality</th>\n      <th>electoral_district</th>\n      <th>unit</th>\n      <th>EKRE</th>\n      <th>Eesti 200</th>\n      <th>Undecided</th>\n      <th>Isamaa</th>\n      <th>Keskerakond</th>\n      <th>Mitte ükski erakond</th>\n      <th>Other</th>\n      <th>Parempoolsed</th>\n      <th>Reformierakond</th>\n      <th>Rohelised</th>\n      <th>SDE</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>16-24</td>\n      <td>Basic education</td>\n      <td>Male</td>\n      <td>Estonian</td>\n      <td>Haabersti, Põhja-Tallinn ja Kristiine</td>\n      <td>Kristiine</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>16-24</td>\n      <td>Basic education</td>\n      <td>Male</td>\n      <td>Estonian</td>\n      <td>Harju- ja Raplamaa</td>\n      <td>Harjumaa</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>16-24</td>\n      <td>Basic education</td>\n      <td>Male</td>\n      <td>Estonian</td>\n      <td>Harju- ja Raplamaa</td>\n      <td>Harjumaa</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>16-24</td>\n      <td>Basic education</td>\n      <td>Male</td>\n      <td>Estonian</td>\n      <td>Harju- ja Raplamaa</td>\n      <td>Harjumaa</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>16-24</td>\n      <td>Basic education</td>\n      <td>Male</td>\n      <td>Estonian</td>\n      <td>Harju- ja Raplamaa</td>\n      <td>Harjumaa</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#946c7bf3 .cell execution_count=19}\n``` {.python .cell-code}\ndata.groupby('gender').sum(\nnumeric_only=True\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=19}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>EKRE</th>\n      <th>Eesti 200</th>\n      <th>Undecided</th>\n      <th>Isamaa</th>\n      <th>Keskerakond</th>\n      <th>Mitte ükski erakond</th>\n      <th>Other</th>\n      <th>Parempoolsed</th>\n      <th>Reformierakond</th>\n      <th>Rohelised</th>\n      <th>SDE</th>\n    </tr>\n    <tr>\n      <th>gender</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Female</th>\n      <td>271</td>\n      <td>237</td>\n      <td>412</td>\n      <td>119</td>\n      <td>374</td>\n      <td>507</td>\n      <td>18</td>\n      <td>7</td>\n      <td>620</td>\n      <td>55</td>\n      <td>225</td>\n    </tr>\n    <tr>\n      <th>Male</th>\n      <td>379</td>\n      <td>195</td>\n      <td>251</td>\n      <td>165</td>\n      <td>247</td>\n      <td>438</td>\n      <td>23</td>\n      <td>5</td>\n      <td>500</td>\n      <td>36</td>\n      <td>122</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#1970fc19 .cell execution_count=20}\n``` {.python .cell-code}\nf, (left, right) = pp.subplots(ncols=2, figsize=(11, 4), sharey=True)\n#gender = data.groupby('gender').sum(numeric_only=True)\n#(gender.div(gender.sum(axis=1), axis=0)*100).plot(kind='bar', colormap='tab20c', ax=left, legend=False)\n#data.groupby('nationality').sum(numeric_only=True).plot(kind='bar', colormap='tab20c', ax=right, legend=False)\nmake_group_percentage(data, 'gender').plot(kind='bar', colormap='tab20c', ax=left, legend=False)\nmake_group_percentage(data, 'nationality').plot(kind='bar', colormap='tab20c', ax=right)\nleft.set(title='Gender', ylabel='Fraction(%)', xlim=(-0.3, 1.3), xlabel='')\nright.set(xlim=(-0.3, 1.3), title='Nationality', xlabel='')\nright.legend(frameon=False, loc=(0.34 ,0.04), fontsize=10)\nright.grid(axis='y', alpha=0.5, ls=':')\nleft.grid(axis='y', alpha=0.5, ls=':')\nf.tight_layout();\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-21-output-1.png){width=1041 height=368}\n:::\n:::\n\n\n::: {#f74dda81 .cell execution_count=21}\n``` {.python .cell-code}\nf, (top, bottom) = pp.subplots(nrows=2, figsize=(12, 8))\n#data.groupby('age_group').sum(numeric_only=True)\nmake_group_percentage(data, 'age_group').plot(kind='bar', colormap='tab20c', ax=top, legend=False)\n#data.groupby('education').sum(numeric_only=True)\nmake_group_percentage(data, 'education').plot(kind='bar', colormap='tab20c', ax=bottom, legend=False, )\ntop.set(title='Age Group', ylabel='Fraction(%)', xlabel='')\ntop.set_xticklabels(top.get_xticklabels(), rotation=0)\nbottom.legend(frameon=False,  loc=(0.24, 0.04), fontsize=10)\nbottom.set_xticklabels(bottom.get_xticklabels(), rotation=0)\nbottom.set(ylabel='Fraction(%)', title='Education', xlim=(-0.3, 2.3), xlabel='')\nbottom.grid(axis='y', alpha=0.5, ls=':')\ntop.grid(axis='y', alpha=0.5, ls=':')\nf.tight_layout();\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-22-output-1.png){width=1137 height=753}\n:::\n:::\n\n\n#### Grouped data summary\n1. Overall\n    * Reformierakond (a liberal party) is pretty popular across the board except with non-Estonians; \n    * Non-Estonians - I'm told - is almost entirely composed up of Russians;\n    * There is a fair amount of undecided voters;\n    * EKRE and Keskeradon are populist parties - EKRE is right-wing, Keskerakond is center-left;\n    * Parempoolsed, center-right party is the underdog across the board.\n\n2. Group-specific\n    * *Gender*: there are some subtle  differences. \n        * Reformierakond is slightly more popular with female voters;\n        * There are more undecided among female voters;\n        * The right-wing EKRE is more popular with male voters.\n    * *Nationality*:\n        * Reformierakond, EKRE are more popular with Estonians;\n        * Keskerakond, Mitte ukski erakond are favored by ethnic Russians who are also more numerous to be undecided. \n    * *Age group*:\n        * Mitte ukski erakond and Reformierakond are the two prevaiing parties among each age group except the two older tranches;\n        * Among 65 and over Reformierakond retains the top but Mitte recedes in favor of Keskeradond.\n    * *Education*:\n        * EKRE, Undecided, Mitte ukski erakond are the top 3 party choices for those with a basic education;\n        * Reformierakond and Mitte are the top 2 party choices among those with a college degree.\n        * High school graduates exhibit a preference for Reformierakond, Mitte, and EKRE.\n\n#### 2. Modeling\n\nThe goal is to predict party preference on the basis of available demographic data. \nI will first start with looking at two categories; education and nationality. The below is some data encoding to ease model fitting and clarity of plotted results. In particular note the model coordinate names; 'party_choice', 'education', 'nationality', 'obs_idx'. The latter is just the row index of the dataframe containing the observations; each row corresponding to one observation.\n\n::: {#d987ca66 .cell execution_count=22}\n``` {.python .cell-code}\n# response variable encoding\nparty_choice = pd.Categorical(data[party_names].idxmax(axis=1), categories=party_names, ordered=True)\nparty_choice_label = party_choice.categories.to_list()\nparty_choice_code = party_choice.codes\n\n# input variables encoding\neducation_code, education_label = data.education.factorize(sort=True) \nnationality_code, nationality_label = data.nationality.factorize(sort=True)\n\n# setting model coordinates\n\ncoords = {\n    'party_choice': party_choice_label,\n    'education': education_label,\n    'nationality': nationality_label,\n    'obs_idx': data.index} # observation index, the row location of an observation in the dataframe.\n```\n:::\n\n\nBelow I write a first model using a baseline intercept and I use nationality and education as predictors and baseline offsets. The corresponding coefficients have 'party choice' as dimension (11 possibilities) and in the case of education and nationality, have  also a dimension of 'education' (3 possibilities) and 'nationality' (2 possibilities), respectively. These are linearly combined and passed to a softmax function to scale the output to the $(0-1)$ interval, as shown below.\n$$ p = softmax(α_{baseline} + α_{nationality}[\\small{nationality\\_category}] + α_{education}[\\small{education\\_category}]) $$\n\nAs prior distribution for all three coefficients, instead of using the $\\mathcal{Normal}$ distribution, I use below the $\\mathcal{Zero-sum\\ Normal}$. This distribution imposes zero sum constraints on specified axes of the fitted coefficients, thereby addressing the problem of overparameterization and identifiability that often plague categorical regression models; a subject of my blog post found [here](insert link). \n\nFinally I use for likelihood the $\\mathcal{Categorical}$ distribution, which is a n-dimensional $\\mathcal{Bernoulli}$ process, and through which I expose the model to the data.\n\n::: {#ea917f25 .cell execution_count=23}\n``` {.python .cell-code}\ndef build_model1(α_sigma=1, α_nat_sigma=1, α_edu_sigma=1):\n    with pm.Model(coords=coords) as model1:\n        # Data containers\n        party_choice_idx = pm.Data('party_choice_index', party_choice_code, dims='obs_idx')\n        nationality_idx = pm.Data('nationality_index', nationality_code, dims='obs_idx')\n        education_idx = pm.Data('eductation_index', education_code, dims='obs_idx')\n        \n        # Model priors\n        # baseline\n        α = pm.ZeroSumNormal('α', sigma=α_sigma, dims='party_choice') \n        # baseline offset due to nationality\n        α_nationality = pm.ZeroSumNormal('α_nationality', sigma=α_nat_sigma, dims=('nationality', 'party_choice'), n_zerosum_axes=2) \n        # baseline offset due to education\n        α_education = pm.ZeroSumNormal('α_education', sigma=α_edu_sigma, dims=('education', 'party_choice'), n_zerosum_axes=2)\n\n        # Link function for choice probability\n        p = pm.math.softmax(α + α_nationality[nationality_idx] + α_education[education_idx], axis=-1)\n        \n        # Likelihood\n        _ = pm.Categorical('y', p=p, observed=party_choice_idx, dims='obs_idx')\n    return model1\n```\n:::\n\n\n::: {#e32fa277 .cell execution_count=24}\n``` {.python .cell-code}\nmodel1 = build_model1()\n```\n:::\n\n\nBelow is the model's diagram with dimension information included. \n\n::: {#bb158fd4 .cell execution_count=25}\n``` {.python .cell-code}\nmodel1.to_graphviz()\n```\n\n::: {.cell-output .cell-output-display execution_count=25}\n![](elections_estonia_files/figure-html/cell-26-output-1.svg){}\n:::\n:::\n\n\nNext is to sample model priors to see the soundness of assumptions made\n\n::: {#d724914c .cell execution_count=26}\n``` {.python .cell-code}\nwith model1:\n    idata1 = pm.sample_prior_predictive(model=model1)\n    idata1.extend(pm.sample(chains=4, draws=2000, random_seed=42))\n    idata1.extend(pm.sample_posterior_predictive(idata1))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSampling: [y, α, α_education, α_nationality]\nInitializing NUTS using jitter+adapt_diag...\nMultiprocess sampling (4 chains in 4 jobs)\nNUTS: [α, α_nationality, α_education]\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"f9d36301b4824ee48ce08dfb12aa2f42\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"></pre>\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSampling 4 chains for 1_000 tune and 2_000 draw iterations (4_000 + 8_000 draws total) took 92 seconds.\nSampling: [y]\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"fed766147f304c74a5c6e89f9930b998\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"></pre>\n```\n:::\n:::\n\n\n::: {#da1ece09 .cell execution_count=27}\n``` {.python .cell-code}\ndef plot_forward_samples(\n        idata: az.InferenceData, categories:list, categories_name:str, \n        figsize=(12, 6), plot_prior=True, plot_posterior=True):\n    \"\"\"A quick function to plot model predictives. \"\"\"\n    f, (left, right) = pp.subplots(1, 2, figsize=figsize, sharey=True)\n    xticks = [i + 0.5 for i in range(len(categories))]\n    if plot_prior:\n        az.plot_ppc(idata, group=\"prior\", ax=left)\n        left.set(\n            xticks=xticks,\n        )\n        left.set_xticklabels(categories, fontsize=10, rotation=30)\n        left.set_xlabel(categories_name, fontsize=16)\n        left.legend(frameon=True, fontsize=11)\n    else:\n        left.set_visible(False)\n\n    if plot_posterior:\n        az.plot_ppc(idata, ax=right)\n        right.set(\n            xticks=xticks,\n        )\n        right.set_xticklabels(categories, fontsize=10, rotation=30)\n        right.set_xlabel(categories_name, fontsize=16)\n        right.legend(frameon=True, fontsize=11)\n    else:\n        right.set_visible(False)\n    f.tight_layout()\n    return f, (left, right)\n```\n:::\n\n\n::: {#a388425b .cell execution_count=28}\n``` {.python .cell-code}\nmean_win = pd.Series(party_choice_code).value_counts(normalize=True).round(3).sort_index()\nf, (axl, axr) = plot_forward_samples(idata1, categories=party_choice_label, categories_name='party choice', figsize=(12, 6))\naxl.set_xticklabels(axl.get_xticklabels(), rotation=60);\naxl.bar(x=axl.get_xticks(), height=mean_win.values,  color='k', fill=False, lw=3, width=1, zorder=13, label='data');\naxr.set_xticklabels(axr.get_xticklabels(), rotation=60);\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-29-output-1.png){width=1137 height=604}\n:::\n:::\n\n\nLeft, in blue lines are sample outcomes for each party choice, before the model has seen the data. Right, model fit results (posterior distribution for each category). The model seems to have learned the posterior distribution well. The model did take some time to fit though and in spite of the lack of difergences, one wonders if sampling could be more efficient. Domain experts have suggested a tighter variance on the coefficient priors could indeed ease sampling. Model1b integrates this domain knowledge as follows: \n\n::: {#7b3a0485 .cell execution_count=29}\n``` {.python .cell-code}\nmodel1b = build_model1(α_sigma=0.5, α_edu_sigma=0.2, α_nat_sigma=0.3)\n```\n:::\n\n\n::: {#cdc4238c .cell execution_count=30}\n``` {.python .cell-code}\nwith model1b:\n    idata1b = pm.sample_prior_predictive()\n    idata1b.extend(pm.sample(chains=4, draws=2000, random_seed=42))\n    idata1b.extend(pm.sample_posterior_predictive(idata1b))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSampling: [y, α, α_education, α_nationality]\nInitializing NUTS using jitter+adapt_diag...\nMultiprocess sampling (4 chains in 4 jobs)\nNUTS: [α, α_nationality, α_education]\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"a92f0a9771c7461da7459a76ab465d12\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"></pre>\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSampling 4 chains for 1_000 tune and 2_000 draw iterations (4_000 + 8_000 draws total) took 80 seconds.\nSampling: [y]\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"444785556c1f425785556a45568f383a\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"></pre>\n```\n:::\n:::\n\n\nThere was some speed improvement (~ 18 seconds on a Macbook air M2.)\n#### Assessing goodness of fit\n\n::: {#d3373c42 .cell execution_count=31}\n``` {.python .cell-code}\naz.plot_trace(idata1, backend_kwargs={'tight_layout': True});\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-32-output-1.png){width=1137 height=561}\n:::\n:::\n\n\n::: {#ae20a709 .cell execution_count=32}\n``` {.python .cell-code}\naz.plot_trace(idata1b, backend_kwargs=dict(tight_layout=True));\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-33-output-1.png){width=1137 height=561}\n:::\n:::\n\n\nGood mixing in the chains and lack of divergences suggest a good fit. The second model (bottom panel) has tighter posteriors, suggesting a slightly better fit.\n\n::: {#56da7ab1 .cell execution_count=33}\n``` {.python .cell-code}\naz.summary(idata1, var_names='α')\n```\n\n::: {.cell-output .cell-output-display execution_count=33}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α[EKRE]</th>\n      <td>0.906</td>\n      <td>0.072</td>\n      <td>0.772</td>\n      <td>1.042</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>6612.0</td>\n      <td>6756.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Eesti 200]</th>\n      <td>0.377</td>\n      <td>0.087</td>\n      <td>0.222</td>\n      <td>0.549</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>6715.0</td>\n      <td>6112.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Undecided]</th>\n      <td>1.153</td>\n      <td>0.067</td>\n      <td>1.021</td>\n      <td>1.277</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>6441.0</td>\n      <td>6223.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Isamaa]</th>\n      <td>-0.710</td>\n      <td>0.160</td>\n      <td>-1.000</td>\n      <td>-0.405</td>\n      <td>0.002</td>\n      <td>0.001</td>\n      <td>8356.0</td>\n      <td>6113.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Keskerakond]</th>\n      <td>1.302</td>\n      <td>0.063</td>\n      <td>1.178</td>\n      <td>1.415</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>6106.0</td>\n      <td>6320.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Mitte ükski erakond]</th>\n      <td>1.599</td>\n      <td>0.059</td>\n      <td>1.486</td>\n      <td>1.709</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>5842.0</td>\n      <td>5910.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Other]</th>\n      <td>-1.575</td>\n      <td>0.180</td>\n      <td>-1.900</td>\n      <td>-1.225</td>\n      <td>0.002</td>\n      <td>0.001</td>\n      <td>10091.0</td>\n      <td>6406.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Parempoolsed]</th>\n      <td>-2.961</td>\n      <td>0.326</td>\n      <td>-3.584</td>\n      <td>-2.365</td>\n      <td>0.004</td>\n      <td>0.003</td>\n      <td>5747.0</td>\n      <td>6096.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Reformierakond]</th>\n      <td>0.716</td>\n      <td>0.084</td>\n      <td>0.552</td>\n      <td>0.865</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8024.0</td>\n      <td>6563.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Rohelised]</th>\n      <td>-1.054</td>\n      <td>0.156</td>\n      <td>-1.340</td>\n      <td>-0.752</td>\n      <td>0.002</td>\n      <td>0.001</td>\n      <td>8262.0</td>\n      <td>6252.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[SDE]</th>\n      <td>0.246</td>\n      <td>0.093</td>\n      <td>0.072</td>\n      <td>0.419</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11979.0</td>\n      <td>6935.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#7d4c832b .cell execution_count=34}\n``` {.python .cell-code}\naz.summary(idata1b, var_names='α')\n```\n\n::: {.cell-output .cell-output-display execution_count=34}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α[EKRE]</th>\n      <td>0.781</td>\n      <td>0.064</td>\n      <td>0.660</td>\n      <td>0.899</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12336.0</td>\n      <td>6688.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Eesti 200]</th>\n      <td>0.320</td>\n      <td>0.073</td>\n      <td>0.176</td>\n      <td>0.452</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10479.0</td>\n      <td>6316.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Undecided]</th>\n      <td>1.020</td>\n      <td>0.058</td>\n      <td>0.907</td>\n      <td>1.126</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>10735.0</td>\n      <td>6572.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Isamaa]</th>\n      <td>-0.509</td>\n      <td>0.109</td>\n      <td>-0.723</td>\n      <td>-0.310</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10705.0</td>\n      <td>5825.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Keskerakond]</th>\n      <td>1.155</td>\n      <td>0.055</td>\n      <td>1.049</td>\n      <td>1.253</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>10455.0</td>\n      <td>6907.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Mitte ükski erakond]</th>\n      <td>1.464</td>\n      <td>0.051</td>\n      <td>1.370</td>\n      <td>1.563</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>9276.0</td>\n      <td>6427.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Other]</th>\n      <td>-1.609</td>\n      <td>0.147</td>\n      <td>-1.889</td>\n      <td>-1.333</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12469.0</td>\n      <td>6006.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Parempoolsed]</th>\n      <td>-2.461</td>\n      <td>0.202</td>\n      <td>-2.849</td>\n      <td>-2.089</td>\n      <td>0.002</td>\n      <td>0.001</td>\n      <td>10961.0</td>\n      <td>5924.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Reformierakond]</th>\n      <td>0.698</td>\n      <td>0.071</td>\n      <td>0.563</td>\n      <td>0.830</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>10962.0</td>\n      <td>6083.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[Rohelised]</th>\n      <td>-1.065</td>\n      <td>0.121</td>\n      <td>-1.295</td>\n      <td>-0.843</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10573.0</td>\n      <td>6503.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α[SDE]</th>\n      <td>0.205</td>\n      <td>0.075</td>\n      <td>0.073</td>\n      <td>0.357</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11252.0</td>\n      <td>6818.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nLooking at the model fit summary tables for the baseline $α$ parameter, in both cases the $\\hat{R}$ (aka *Gelman-Rubin* statistic) is 1.0. This indicates good convergence of MCMC chains (I fired up 4 of them for sampling). Interestingly however, in the case of the second model with tighter variance constraints on the priors, the *Effective Sample Size* corresponding to the sampling of the central portion of the posterior (ess_bulk) shows more efficient sampling in most cases. The posterior is therefore likelier to be better characterized. A similar pattern can be observed in the next 4 tables for $α_{nationality}$ and $α_{education}$. Note that in contrast, the tails of the posterior are sampled with similar efficiency in both cases, as noted by ess_tail. \n\n::: {#74fe113c .cell execution_count=35}\n``` {.python .cell-code}\naz.summary(idata1, var_names='α_education')\n```\n\n::: {.cell-output .cell-output-display execution_count=35}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_education[Basic education, EKRE]</th>\n      <td>0.234</td>\n      <td>0.088</td>\n      <td>0.072</td>\n      <td>0.400</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8337.0</td>\n      <td>6406.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Eesti 200]</th>\n      <td>-0.359</td>\n      <td>0.125</td>\n      <td>-0.602</td>\n      <td>-0.134</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8978.0</td>\n      <td>6077.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Undecided]</th>\n      <td>0.110</td>\n      <td>0.091</td>\n      <td>-0.052</td>\n      <td>0.290</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8579.0</td>\n      <td>6639.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Isamaa]</th>\n      <td>-0.110</td>\n      <td>0.129</td>\n      <td>-0.352</td>\n      <td>0.129</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12807.0</td>\n      <td>6272.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Keskerakond]</th>\n      <td>0.385</td>\n      <td>0.091</td>\n      <td>0.212</td>\n      <td>0.555</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>7640.0</td>\n      <td>6648.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Mitte ükski erakond]</th>\n      <td>0.226</td>\n      <td>0.082</td>\n      <td>0.067</td>\n      <td>0.376</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>6905.0</td>\n      <td>6441.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Other]</th>\n      <td>0.148</td>\n      <td>0.276</td>\n      <td>-0.357</td>\n      <td>0.665</td>\n      <td>0.003</td>\n      <td>0.003</td>\n      <td>9166.0</td>\n      <td>5883.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Parempoolsed]</th>\n      <td>0.332</td>\n      <td>0.382</td>\n      <td>-0.402</td>\n      <td>1.037</td>\n      <td>0.004</td>\n      <td>0.003</td>\n      <td>9250.0</td>\n      <td>6320.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Reformierakond]</th>\n      <td>-0.486</td>\n      <td>0.092</td>\n      <td>-0.658</td>\n      <td>-0.317</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>9580.0</td>\n      <td>6485.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Rohelised]</th>\n      <td>-0.054</td>\n      <td>0.205</td>\n      <td>-0.446</td>\n      <td>0.317</td>\n      <td>0.002</td>\n      <td>0.002</td>\n      <td>10698.0</td>\n      <td>6133.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, SDE]</th>\n      <td>-0.426</td>\n      <td>0.144</td>\n      <td>-0.696</td>\n      <td>-0.155</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11192.0</td>\n      <td>6408.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, EKRE]</th>\n      <td>-0.399</td>\n      <td>0.072</td>\n      <td>-0.530</td>\n      <td>-0.259</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8977.0</td>\n      <td>6374.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Eesti 200]</th>\n      <td>0.348</td>\n      <td>0.084</td>\n      <td>0.200</td>\n      <td>0.515</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8692.0</td>\n      <td>5956.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Undecided]</th>\n      <td>-0.216</td>\n      <td>0.071</td>\n      <td>-0.343</td>\n      <td>-0.075</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8929.0</td>\n      <td>6048.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Isamaa]</th>\n      <td>-0.110</td>\n      <td>0.098</td>\n      <td>-0.292</td>\n      <td>0.076</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13473.0</td>\n      <td>6687.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Keskerakond]</th>\n      <td>-0.347</td>\n      <td>0.072</td>\n      <td>-0.481</td>\n      <td>-0.212</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8540.0</td>\n      <td>6733.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Mitte ükski erakond]</th>\n      <td>-0.278</td>\n      <td>0.064</td>\n      <td>-0.395</td>\n      <td>-0.158</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>7817.0</td>\n      <td>6747.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Other]</th>\n      <td>-0.259</td>\n      <td>0.219</td>\n      <td>-0.655</td>\n      <td>0.164</td>\n      <td>0.002</td>\n      <td>0.002</td>\n      <td>10544.0</td>\n      <td>6202.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Parempoolsed]</th>\n      <td>0.414</td>\n      <td>0.304</td>\n      <td>-0.160</td>\n      <td>0.981</td>\n      <td>0.003</td>\n      <td>0.003</td>\n      <td>8511.0</td>\n      <td>6058.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Reformierakond]</th>\n      <td>0.397</td>\n      <td>0.064</td>\n      <td>0.279</td>\n      <td>0.516</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>8557.0</td>\n      <td>6525.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Rohelised]</th>\n      <td>0.021</td>\n      <td>0.152</td>\n      <td>-0.253</td>\n      <td>0.314</td>\n      <td>0.001</td>\n      <td>0.002</td>\n      <td>11264.0</td>\n      <td>5934.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, SDE]</th>\n      <td>0.428</td>\n      <td>0.094</td>\n      <td>0.258</td>\n      <td>0.610</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11307.0</td>\n      <td>6711.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, EKRE]</th>\n      <td>0.164</td>\n      <td>0.067</td>\n      <td>0.039</td>\n      <td>0.290</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>9386.0</td>\n      <td>6782.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Eesti 200]</th>\n      <td>0.011</td>\n      <td>0.085</td>\n      <td>-0.150</td>\n      <td>0.169</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11057.0</td>\n      <td>6734.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Undecided]</th>\n      <td>0.106</td>\n      <td>0.069</td>\n      <td>-0.025</td>\n      <td>0.234</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10110.0</td>\n      <td>6960.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Isamaa]</th>\n      <td>0.220</td>\n      <td>0.092</td>\n      <td>0.041</td>\n      <td>0.388</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13016.0</td>\n      <td>6300.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Keskerakond]</th>\n      <td>-0.038</td>\n      <td>0.070</td>\n      <td>-0.167</td>\n      <td>0.094</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10080.0</td>\n      <td>6738.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Mitte ükski erakond]</th>\n      <td>0.052</td>\n      <td>0.062</td>\n      <td>-0.063</td>\n      <td>0.170</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>9273.0</td>\n      <td>6817.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Other]</th>\n      <td>0.111</td>\n      <td>0.201</td>\n      <td>-0.277</td>\n      <td>0.476</td>\n      <td>0.002</td>\n      <td>0.002</td>\n      <td>11753.0</td>\n      <td>6409.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Parempoolsed]</th>\n      <td>-0.745</td>\n      <td>0.350</td>\n      <td>-1.389</td>\n      <td>-0.074</td>\n      <td>0.004</td>\n      <td>0.003</td>\n      <td>9203.0</td>\n      <td>6561.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Reformierakond]</th>\n      <td>0.088</td>\n      <td>0.065</td>\n      <td>-0.038</td>\n      <td>0.207</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>9345.0</td>\n      <td>7035.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Rohelised]</th>\n      <td>0.033</td>\n      <td>0.144</td>\n      <td>-0.235</td>\n      <td>0.302</td>\n      <td>0.001</td>\n      <td>0.002</td>\n      <td>15300.0</td>\n      <td>6318.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, SDE]</th>\n      <td>-0.002</td>\n      <td>0.097</td>\n      <td>-0.187</td>\n      <td>0.176</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>9201.0</td>\n      <td>7201.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#79116edb .cell execution_count=36}\n``` {.python .cell-code}\naz.summary(idata1b, var_names='α_education')\n```\n\n::: {.cell-output .cell-output-display execution_count=36}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_education[Basic education, EKRE]</th>\n      <td>0.191</td>\n      <td>0.070</td>\n      <td>0.055</td>\n      <td>0.320</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>13539.0</td>\n      <td>6375.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Eesti 200]</th>\n      <td>-0.235</td>\n      <td>0.090</td>\n      <td>-0.400</td>\n      <td>-0.062</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11990.0</td>\n      <td>7072.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Undecided]</th>\n      <td>0.083</td>\n      <td>0.073</td>\n      <td>-0.060</td>\n      <td>0.214</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12012.0</td>\n      <td>6297.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Isamaa]</th>\n      <td>-0.050</td>\n      <td>0.093</td>\n      <td>-0.231</td>\n      <td>0.118</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13607.0</td>\n      <td>6170.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Keskerakond]</th>\n      <td>0.295</td>\n      <td>0.074</td>\n      <td>0.156</td>\n      <td>0.434</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12671.0</td>\n      <td>6260.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Mitte ükski erakond]</th>\n      <td>0.189</td>\n      <td>0.066</td>\n      <td>0.060</td>\n      <td>0.309</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12424.0</td>\n      <td>6586.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Other]</th>\n      <td>0.065</td>\n      <td>0.135</td>\n      <td>-0.184</td>\n      <td>0.323</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13651.0</td>\n      <td>6458.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Parempoolsed]</th>\n      <td>0.097</td>\n      <td>0.144</td>\n      <td>-0.174</td>\n      <td>0.365</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13581.0</td>\n      <td>5944.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Reformierakond]</th>\n      <td>-0.393</td>\n      <td>0.070</td>\n      <td>-0.517</td>\n      <td>-0.256</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>11899.0</td>\n      <td>6095.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Rohelised]</th>\n      <td>0.009</td>\n      <td>0.122</td>\n      <td>-0.223</td>\n      <td>0.228</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13491.0</td>\n      <td>6665.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, SDE]</th>\n      <td>-0.251</td>\n      <td>0.097</td>\n      <td>-0.426</td>\n      <td>-0.063</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11271.0</td>\n      <td>6692.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, EKRE]</th>\n      <td>-0.318</td>\n      <td>0.059</td>\n      <td>-0.430</td>\n      <td>-0.208</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14386.0</td>\n      <td>6470.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Eesti 200]</th>\n      <td>0.297</td>\n      <td>0.065</td>\n      <td>0.177</td>\n      <td>0.419</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12723.0</td>\n      <td>5482.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Undecided]</th>\n      <td>-0.155</td>\n      <td>0.057</td>\n      <td>-0.261</td>\n      <td>-0.047</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>10573.0</td>\n      <td>6068.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Isamaa]</th>\n      <td>-0.091</td>\n      <td>0.076</td>\n      <td>-0.235</td>\n      <td>0.051</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14480.0</td>\n      <td>6157.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Keskerakond]</th>\n      <td>-0.249</td>\n      <td>0.060</td>\n      <td>-0.367</td>\n      <td>-0.139</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12318.0</td>\n      <td>6111.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Mitte ükski erakond]</th>\n      <td>-0.214</td>\n      <td>0.053</td>\n      <td>-0.316</td>\n      <td>-0.116</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>11808.0</td>\n      <td>6247.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Other]</th>\n      <td>-0.080</td>\n      <td>0.121</td>\n      <td>-0.308</td>\n      <td>0.149</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>15069.0</td>\n      <td>6587.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Parempoolsed]</th>\n      <td>0.080</td>\n      <td>0.137</td>\n      <td>-0.178</td>\n      <td>0.335</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12957.0</td>\n      <td>6326.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Reformierakond]</th>\n      <td>0.373</td>\n      <td>0.050</td>\n      <td>0.276</td>\n      <td>0.462</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>11685.0</td>\n      <td>6693.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Rohelised]</th>\n      <td>0.014</td>\n      <td>0.105</td>\n      <td>-0.181</td>\n      <td>0.212</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16191.0</td>\n      <td>6541.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, SDE]</th>\n      <td>0.344</td>\n      <td>0.071</td>\n      <td>0.214</td>\n      <td>0.479</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>10646.0</td>\n      <td>5829.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, EKRE]</th>\n      <td>0.127</td>\n      <td>0.053</td>\n      <td>0.031</td>\n      <td>0.229</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12694.0</td>\n      <td>6755.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Eesti 200]</th>\n      <td>-0.062</td>\n      <td>0.065</td>\n      <td>-0.185</td>\n      <td>0.060</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11771.0</td>\n      <td>6722.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Undecided]</th>\n      <td>0.072</td>\n      <td>0.054</td>\n      <td>-0.027</td>\n      <td>0.177</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12113.0</td>\n      <td>7153.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Isamaa]</th>\n      <td>0.140</td>\n      <td>0.072</td>\n      <td>0.007</td>\n      <td>0.277</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>14944.0</td>\n      <td>6205.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Keskerakond]</th>\n      <td>-0.046</td>\n      <td>0.055</td>\n      <td>-0.144</td>\n      <td>0.062</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12197.0</td>\n      <td>6874.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Mitte ükski erakond]</th>\n      <td>0.025</td>\n      <td>0.049</td>\n      <td>-0.068</td>\n      <td>0.115</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12274.0</td>\n      <td>6695.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Other]</th>\n      <td>0.015</td>\n      <td>0.119</td>\n      <td>-0.205</td>\n      <td>0.239</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14454.0</td>\n      <td>6886.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Parempoolsed]</th>\n      <td>-0.177</td>\n      <td>0.136</td>\n      <td>-0.437</td>\n      <td>0.075</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14120.0</td>\n      <td>6326.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Reformierakond]</th>\n      <td>0.020</td>\n      <td>0.050</td>\n      <td>-0.073</td>\n      <td>0.112</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12133.0</td>\n      <td>7066.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Rohelised]</th>\n      <td>-0.023</td>\n      <td>0.100</td>\n      <td>-0.209</td>\n      <td>0.162</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13259.0</td>\n      <td>5827.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, SDE]</th>\n      <td>-0.092</td>\n      <td>0.070</td>\n      <td>-0.223</td>\n      <td>0.041</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11114.0</td>\n      <td>6683.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#705b7b7c .cell execution_count=37}\n``` {.python .cell-code}\naz.summary(idata1, var_names='α_nationality')\n```\n\n::: {.cell-output .cell-output-display execution_count=37}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_nationality[Estonian, EKRE]</th>\n      <td>0.091</td>\n      <td>0.064</td>\n      <td>-0.031</td>\n      <td>0.210</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>7281.0</td>\n      <td>6421.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Eesti 200]</th>\n      <td>0.081</td>\n      <td>0.072</td>\n      <td>-0.059</td>\n      <td>0.213</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8736.0</td>\n      <td>6470.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Undecided]</th>\n      <td>-0.287</td>\n      <td>0.058</td>\n      <td>-0.394</td>\n      <td>-0.182</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>6742.0</td>\n      <td>6367.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Isamaa]</th>\n      <td>0.935</td>\n      <td>0.151</td>\n      <td>0.660</td>\n      <td>1.228</td>\n      <td>0.002</td>\n      <td>0.001</td>\n      <td>8963.0</td>\n      <td>5827.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Keskerakond]</th>\n      <td>-0.791</td>\n      <td>0.056</td>\n      <td>-0.888</td>\n      <td>-0.677</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>6695.0</td>\n      <td>6262.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Mitte ükski erakond]</th>\n      <td>-0.422</td>\n      <td>0.052</td>\n      <td>-0.520</td>\n      <td>-0.327</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>6279.0</td>\n      <td>6162.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Other]</th>\n      <td>-0.407</td>\n      <td>0.155</td>\n      <td>-0.703</td>\n      <td>-0.120</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12316.0</td>\n      <td>6225.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Parempoolsed]</th>\n      <td>0.095</td>\n      <td>0.292</td>\n      <td>-0.427</td>\n      <td>0.655</td>\n      <td>0.004</td>\n      <td>0.003</td>\n      <td>5923.0</td>\n      <td>5253.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Reformierakond]</th>\n      <td>0.780</td>\n      <td>0.076</td>\n      <td>0.639</td>\n      <td>0.921</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8745.0</td>\n      <td>6390.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Rohelised]</th>\n      <td>0.039</td>\n      <td>0.135</td>\n      <td>-0.209</td>\n      <td>0.290</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10870.0</td>\n      <td>6037.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, SDE]</th>\n      <td>-0.113</td>\n      <td>0.070</td>\n      <td>-0.236</td>\n      <td>0.024</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10342.0</td>\n      <td>6071.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, EKRE]</th>\n      <td>-0.091</td>\n      <td>0.064</td>\n      <td>-0.210</td>\n      <td>0.031</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>7281.0</td>\n      <td>6421.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Eesti 200]</th>\n      <td>-0.081</td>\n      <td>0.072</td>\n      <td>-0.213</td>\n      <td>0.059</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8736.0</td>\n      <td>6470.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Undecided]</th>\n      <td>0.287</td>\n      <td>0.058</td>\n      <td>0.182</td>\n      <td>0.394</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>6742.0</td>\n      <td>6367.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Isamaa]</th>\n      <td>-0.935</td>\n      <td>0.151</td>\n      <td>-1.228</td>\n      <td>-0.660</td>\n      <td>0.002</td>\n      <td>0.001</td>\n      <td>8963.0</td>\n      <td>5827.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Keskerakond]</th>\n      <td>0.791</td>\n      <td>0.056</td>\n      <td>0.677</td>\n      <td>0.888</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>6695.0</td>\n      <td>6262.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Mitte ükski erakond]</th>\n      <td>0.422</td>\n      <td>0.052</td>\n      <td>0.327</td>\n      <td>0.520</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>6279.0</td>\n      <td>6162.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Other]</th>\n      <td>0.407</td>\n      <td>0.155</td>\n      <td>0.120</td>\n      <td>0.703</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12316.0</td>\n      <td>6225.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Parempoolsed]</th>\n      <td>-0.095</td>\n      <td>0.292</td>\n      <td>-0.655</td>\n      <td>0.427</td>\n      <td>0.004</td>\n      <td>0.003</td>\n      <td>5923.0</td>\n      <td>5253.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Reformierakond]</th>\n      <td>-0.780</td>\n      <td>0.076</td>\n      <td>-0.921</td>\n      <td>-0.639</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>8745.0</td>\n      <td>6390.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Rohelised]</th>\n      <td>-0.039</td>\n      <td>0.135</td>\n      <td>-0.290</td>\n      <td>0.209</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10870.0</td>\n      <td>6037.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, SDE]</th>\n      <td>0.113</td>\n      <td>0.070</td>\n      <td>-0.024</td>\n      <td>0.236</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10342.0</td>\n      <td>6071.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#e5fd0389 .cell execution_count=38}\n``` {.python .cell-code}\naz.summary(idata1b, var_names='α_nationality')\n```\n\n::: {.cell-output .cell-output-display execution_count=38}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_nationality[Estonian, EKRE]</th>\n      <td>0.144</td>\n      <td>0.057</td>\n      <td>0.039</td>\n      <td>0.251</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12637.0</td>\n      <td>6667.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Eesti 200]</th>\n      <td>0.112</td>\n      <td>0.062</td>\n      <td>-0.006</td>\n      <td>0.229</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>11945.0</td>\n      <td>6603.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Undecided]</th>\n      <td>-0.223</td>\n      <td>0.049</td>\n      <td>-0.315</td>\n      <td>-0.136</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>11503.0</td>\n      <td>7039.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Isamaa]</th>\n      <td>0.669</td>\n      <td>0.101</td>\n      <td>0.476</td>\n      <td>0.854</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11064.0</td>\n      <td>6258.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Keskerakond]</th>\n      <td>-0.707</td>\n      <td>0.046</td>\n      <td>-0.795</td>\n      <td>-0.621</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>11305.0</td>\n      <td>6511.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Mitte ükski erakond]</th>\n      <td>-0.357</td>\n      <td>0.043</td>\n      <td>-0.439</td>\n      <td>-0.277</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>10679.0</td>\n      <td>6792.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Other]</th>\n      <td>-0.260</td>\n      <td>0.121</td>\n      <td>-0.489</td>\n      <td>-0.035</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12611.0</td>\n      <td>6075.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Parempoolsed]</th>\n      <td>-0.091</td>\n      <td>0.153</td>\n      <td>-0.378</td>\n      <td>0.192</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11387.0</td>\n      <td>6724.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Reformierakond]</th>\n      <td>0.758</td>\n      <td>0.065</td>\n      <td>0.630</td>\n      <td>0.875</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12215.0</td>\n      <td>6441.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Rohelised]</th>\n      <td>0.026</td>\n      <td>0.105</td>\n      <td>-0.156</td>\n      <td>0.236</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12021.0</td>\n      <td>6444.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, SDE]</th>\n      <td>-0.071</td>\n      <td>0.062</td>\n      <td>-0.186</td>\n      <td>0.043</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>11030.0</td>\n      <td>6307.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, EKRE]</th>\n      <td>-0.144</td>\n      <td>0.057</td>\n      <td>-0.251</td>\n      <td>-0.039</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12637.0</td>\n      <td>6667.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Eesti 200]</th>\n      <td>-0.112</td>\n      <td>0.062</td>\n      <td>-0.229</td>\n      <td>0.006</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>11945.0</td>\n      <td>6603.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Undecided]</th>\n      <td>0.223</td>\n      <td>0.049</td>\n      <td>0.136</td>\n      <td>0.315</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>11503.0</td>\n      <td>7039.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Isamaa]</th>\n      <td>-0.669</td>\n      <td>0.101</td>\n      <td>-0.854</td>\n      <td>-0.476</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11064.0</td>\n      <td>6258.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Keskerakond]</th>\n      <td>0.707</td>\n      <td>0.046</td>\n      <td>0.621</td>\n      <td>0.795</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>11305.0</td>\n      <td>6511.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Mitte ükski erakond]</th>\n      <td>0.357</td>\n      <td>0.043</td>\n      <td>0.277</td>\n      <td>0.439</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>10679.0</td>\n      <td>6792.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Other]</th>\n      <td>0.260</td>\n      <td>0.121</td>\n      <td>0.035</td>\n      <td>0.489</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12611.0</td>\n      <td>6075.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Parempoolsed]</th>\n      <td>0.091</td>\n      <td>0.153</td>\n      <td>-0.192</td>\n      <td>0.378</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11387.0</td>\n      <td>6724.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Reformierakond]</th>\n      <td>-0.758</td>\n      <td>0.065</td>\n      <td>-0.875</td>\n      <td>-0.630</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12215.0</td>\n      <td>6441.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Rohelised]</th>\n      <td>-0.026</td>\n      <td>0.105</td>\n      <td>-0.236</td>\n      <td>0.156</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12021.0</td>\n      <td>6444.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, SDE]</th>\n      <td>0.071</td>\n      <td>0.062</td>\n      <td>-0.043</td>\n      <td>0.186</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>11030.0</td>\n      <td>6307.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nGiven the above, I hereafter drop the first model with the more naive priors and continue with the second model with the more informative priors.\n\n\nNow to check the impact of each predictor on voter preference by examining the posterior distribution, its central tendency and spread and how it relates to the reference value of 0, which corresponds to to effect. Note that: \n* The orange number situates probabilistically the reference value (0=neither favorable nor unfavorable.)\n* The black line corresponds to the 94% Highest Density Interval (HDI) - the narrowest interval containing 94% of the posterior distribution. \n    * The choice of 94% is a reminder that there is nothing magical about this number. Analysts should determine the appropriate size of the credibility interval that works best for their use case.  \n    * This corresponds to a proabilistic statement; i.e. there is a 94% chance that given this data and this model, a voter correponding to this category would have an an offset within the HDI.\n\n1. Baseline - average voter tendencies\n    * On average there is a overwhelmingly positive outlook on EKRE, Eesti, Mitte, Reformierakond, and to a lesser extent, SDE. The average voter has also a high probability of being Undecided.\n    * On the other hand, Isamaa, Parempoolsed, Rohelised and smaller parties grouped under the catch-all Other are not likely to be appealing to the average voter. \n\n::: {#db26434c .cell execution_count=39}\n``` {.python .cell-code}\naz.plot_posterior(idata1b, var_names='α', ref_val=0, textsize=16);\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-40-output-1.png){width=1874 height=1800}\n:::\n:::\n\n\n2. Education:\n    * Basic Education: \n        * There is a very high probability that a voter belonging ot this category will be in favor of EKRE, Keskerakond, or Mitte\n        * There is a very high probability against such a voter favoring Reformierakond, and to a lesser extent, SDE.\n    * Secondary Education:\n        * Voter have high probability of favoring EKRE and to a lesser extent Isamaa\n        * Though not quite significant, voter are likely to be most hostile to SDE.\n    * Higher Education:\n        * Voters in this category are very hostile to EKRE, Mitte and Keskerakond and are unlikely to be undecided\n        * Voters are quite sympathetic to Eesti and Reformierakond.\n\n::: {#ff446631 .cell execution_count=40}\n``` {.python .cell-code}\naz.plot_posterior(idata1b, var_names='α_education', ref_val=0, backend_kwargs=dict(tight_layout=True), textsize=20);\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-41-output-1.png){width=2303 height=6057}\n:::\n:::\n\n\n3. Nationality\n* Estonians are: \n    * predominantly favorable to EKRE, Isamaa, Reformierakond;\n    * largely unfavorable to Keskerakond and Mitte, and are less likely to be Undecided.\n* Ethnic Russians (Other) on the other hand:\n    * favor Keskerakond, Mitte, and are more likely to be Undecided;\n    * are hostile to Reformierakond and to a lesser extent EKRE.\n\n::: {#b5c25eda .cell execution_count=41}\n``` {.python .cell-code}\nf, axs = pp.subplots(ncols=3, nrows=8, figsize=(15, 40))\nfor ax in axs.ravel()[-2:]:\n    ax.set_visible(False)\naz.plot_posterior(idata1b, var_names='α_nationality', backend_kwargs=dict(tight_layout=True), ref_val=0, ax=axs, textsize=10);\n\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-42-output-1.png){width=1158 height=3032}\n:::\n:::\n\n\n#### Adding gender and age group\nIn accordance with the Bayesian workflow, the next step is to build a slightly more complex model, in this case by adding gender and vote age group as predictors to nationality and education, and see if can extract further insight. The model type is the same, just with a total of 4 offsets to the baseline instead of 2. I will also use stronger informative priors as I did in the second model that I ended up using for my analysis. Finally, the prior distribution for all coefficients is again the ZeroSumNormal distribution that I use to avoid non-identifiability due to overparameterization.\nBut first, to encode the additional predictors...\n\n::: {#b7a6a08f .cell execution_count=42}\n``` {.python .cell-code}\ngender_code, gender_label = data.gender.factorize(sort=True)\nage_gp_code, age_group_label = data.age_group.factorize(sort=True)\n```\n:::\n\n\n::: {#894f1d0d .cell execution_count=43}\n``` {.python .cell-code}\ncoords = {\n    'age group': age_group_label,\n    'education': education_label,\n    'gender': gender_label,\n    'nationality': nationality_label,\n    'party choice': party_choice_label,\n    'obs_idx': data.index\n}\n```\n:::\n\n\n::: {#183e1eba .cell execution_count=44}\n``` {.python .cell-code}\ndef build_model2(coords, σ_baseline=1, σ_age=1, σ_edu=1, σ_gen=1, σ_nat=1):\n    with pm.Model(coords=coords) as model2:\n        age_gp_idx = pm.Data('age_gp', age_gp_code, dims='obs_idx')\n        educ_idx = pm.Data('education', education_code, dims='obs_idx')\n        gender_idx = pm.Data('gender', gender_code, dims='obs_idx')\n        nat_idx = pm.Data('nationality', nationality_code, dims='obs_idx')\n        party_choice_idx = pm.Data('party choice', party_choice_code, dims='obs_idx') \n        \n        α_baseline = pm.ZeroSumNormal('α_baseline', sigma=σ_baseline, dims='party choice')\n        α_age_group = pm.ZeroSumNormal('α_age_group', sigma=σ_age, dims=('age group', 'party choice'), n_zerosum_axes=2)\n        α_education = pm.ZeroSumNormal('α_education', sigma=σ_edu, dims=('education', 'party choice'), n_zerosum_axes=2)\n        α_gender = pm.ZeroSumNormal('α_gender', sigma=σ_gen, dims=('gender', 'party choice'), n_zerosum_axes=2)\n        α_nationality = pm.ZeroSumNormal('α_nationality', sigma=σ_nat, dims=('nationality', 'party choice'), n_zerosum_axes=2)\n\n        μ = α_baseline + α_age_group[age_gp_idx] + α_education[educ_idx] + α_gender[gender_idx] + α_nationality[nat_idx]\n        p = pm.math.softmax(μ, axis=-1)\n\n        _ = pm.Categorical('y', p=p, observed=party_choice_idx, dims='obs_idx')\n        \n    return model2\n\nmodel2 = build_model2(coords=coords, σ_baseline=0.3, σ_age=0.4, σ_edu=0.3, σ_gen=0.2, σ_nat=0.2)\nmodel2.to_graphviz()\n```\n\n::: {.cell-output .cell-output-display execution_count=44}\n![](elections_estonia_files/figure-html/cell-45-output-1.svg){}\n:::\n:::\n\n\n::: {#f891f112 .cell execution_count=45}\n``` {.python .cell-code}\nwith model2:\n    idata2 = pm.sample_prior_predictive()\n    idata2.extend(pm.sample(chains=4, draws=2000, random_seed=42))\n    idata2.extend(pm.sample_posterior_predictive(idata2))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSampling: [y, α_age_group, α_baseline, α_education, α_gender, α_nationality]\nInitializing NUTS using jitter+adapt_diag...\nMultiprocess sampling (4 chains in 4 jobs)\nNUTS: [α_baseline, α_age_group, α_education, α_gender, α_nationality]\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"fd23a326db0c44b0bd76dbcfdb2a66a4\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"></pre>\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSampling 4 chains for 1_000 tune and 2_000 draw iterations (4_000 + 8_000 draws total) took 129 seconds.\nSampling: [y, α_age_group, α_baseline, α_education, α_gender, α_nationality]\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"50d289a7489946c3a429ec83b02a2979\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"></pre>\n```\n:::\n:::\n\n\n::: {#7b82f896 .cell execution_count=46}\n``` {.python .cell-code}\naz.plot_trace(idata2, backend_kwargs=dict(tight_layout=True));\n```\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-47-output-1.png){width=1137 height=945}\n:::\n:::\n\n\n::: {#f8e2a062 .cell execution_count=47}\n``` {.python .cell-code}\naz.summary(idata2, var_names='α_baseline')\n```\n\n::: {.cell-output .cell-output-display execution_count=47}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_baseline[EKRE]</th>\n      <td>0.713</td>\n      <td>0.061</td>\n      <td>0.598</td>\n      <td>0.826</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>13176.0</td>\n      <td>6608.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Eesti 200]</th>\n      <td>0.168</td>\n      <td>0.074</td>\n      <td>0.030</td>\n      <td>0.305</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12135.0</td>\n      <td>6429.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Undecided]</th>\n      <td>0.882</td>\n      <td>0.059</td>\n      <td>0.772</td>\n      <td>0.995</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>13437.0</td>\n      <td>6458.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Isamaa]</th>\n      <td>-0.416</td>\n      <td>0.093</td>\n      <td>-0.586</td>\n      <td>-0.239</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13360.0</td>\n      <td>6345.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Keskerakond]</th>\n      <td>1.044</td>\n      <td>0.056</td>\n      <td>0.944</td>\n      <td>1.157</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14123.0</td>\n      <td>6809.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Mitte ükski erakond]</th>\n      <td>1.358</td>\n      <td>0.051</td>\n      <td>1.260</td>\n      <td>1.448</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12378.0</td>\n      <td>7131.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Other]</th>\n      <td>-1.457</td>\n      <td>0.129</td>\n      <td>-1.695</td>\n      <td>-1.215</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13204.0</td>\n      <td>6783.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Parempoolsed]</th>\n      <td>-1.982</td>\n      <td>0.151</td>\n      <td>-2.258</td>\n      <td>-1.695</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14895.0</td>\n      <td>6244.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Reformierakond]</th>\n      <td>0.674</td>\n      <td>0.066</td>\n      <td>0.549</td>\n      <td>0.797</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>13091.0</td>\n      <td>6590.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[Rohelised]</th>\n      <td>-1.073</td>\n      <td>0.113</td>\n      <td>-1.290</td>\n      <td>-0.866</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13350.0</td>\n      <td>6760.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_baseline[SDE]</th>\n      <td>0.089</td>\n      <td>0.078</td>\n      <td>-0.052</td>\n      <td>0.237</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11862.0</td>\n      <td>6514.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#007fb71f .cell execution_count=48}\n``` {.python .cell-code}\naz.summary(idata2, var_names='α_age_group')\n```\n\n::: {.cell-output .cell-output-display execution_count=48}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_age_group[16-24, EKRE]</th>\n      <td>-0.307</td>\n      <td>0.122</td>\n      <td>-0.537</td>\n      <td>-0.080</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16900.0</td>\n      <td>5979.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_age_group[16-24, Eesti 200]</th>\n      <td>0.465</td>\n      <td>0.121</td>\n      <td>0.240</td>\n      <td>0.696</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16699.0</td>\n      <td>6892.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_age_group[16-24, Undecided]</th>\n      <td>0.011</td>\n      <td>0.114</td>\n      <td>-0.205</td>\n      <td>0.225</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14880.0</td>\n      <td>5789.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_age_group[16-24, Isamaa]</th>\n      <td>-0.379</td>\n      <td>0.167</td>\n      <td>-0.684</td>\n      <td>-0.070</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>17991.0</td>\n      <td>5771.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_age_group[16-24, Keskerakond]</th>\n      <td>-0.685</td>\n      <td>0.150</td>\n      <td>-0.959</td>\n      <td>-0.400</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>17828.0</td>\n      <td>5346.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>α_age_group[75+, Other]</th>\n      <td>-0.044</td>\n      <td>0.252</td>\n      <td>-0.509</td>\n      <td>0.438</td>\n      <td>0.002</td>\n      <td>0.003</td>\n      <td>16116.0</td>\n      <td>5912.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_age_group[75+, Parempoolsed]</th>\n      <td>0.156</td>\n      <td>0.279</td>\n      <td>-0.350</td>\n      <td>0.715</td>\n      <td>0.002</td>\n      <td>0.003</td>\n      <td>17245.0</td>\n      <td>6678.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_age_group[75+, Reformierakond]</th>\n      <td>0.209</td>\n      <td>0.087</td>\n      <td>0.052</td>\n      <td>0.378</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14009.0</td>\n      <td>6339.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_age_group[75+, Rohelised]</th>\n      <td>-0.412</td>\n      <td>0.234</td>\n      <td>-0.838</td>\n      <td>0.033</td>\n      <td>0.002</td>\n      <td>0.002</td>\n      <td>14955.0</td>\n      <td>6332.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_age_group[75+, SDE]</th>\n      <td>-0.017</td>\n      <td>0.138</td>\n      <td>-0.287</td>\n      <td>0.228</td>\n      <td>0.001</td>\n      <td>0.002</td>\n      <td>14714.0</td>\n      <td>5968.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>77 rows × 9 columns</p>\n</div>\n```\n:::\n:::\n\n\n::: {#c059fb6e .cell execution_count=49}\n``` {.python .cell-code}\naz.summary(idata2, var_names='α_education')\n```\n\n::: {.cell-output .cell-output-display execution_count=49}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_education[Basic education, EKRE]</th>\n      <td>0.208</td>\n      <td>0.076</td>\n      <td>0.068</td>\n      <td>0.353</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>14723.0</td>\n      <td>6608.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Eesti 200]</th>\n      <td>-0.371</td>\n      <td>0.102</td>\n      <td>-0.553</td>\n      <td>-0.172</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12680.0</td>\n      <td>6619.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Undecided]</th>\n      <td>0.053</td>\n      <td>0.080</td>\n      <td>-0.096</td>\n      <td>0.203</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>15074.0</td>\n      <td>7250.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Isamaa]</th>\n      <td>-0.031</td>\n      <td>0.107</td>\n      <td>-0.235</td>\n      <td>0.164</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14127.0</td>\n      <td>6301.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Keskerakond]</th>\n      <td>0.321</td>\n      <td>0.084</td>\n      <td>0.165</td>\n      <td>0.476</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>15304.0</td>\n      <td>6390.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Mitte ükski erakond]</th>\n      <td>0.175</td>\n      <td>0.069</td>\n      <td>0.044</td>\n      <td>0.305</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>14289.0</td>\n      <td>6947.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Other]</th>\n      <td>0.187</td>\n      <td>0.166</td>\n      <td>-0.128</td>\n      <td>0.491</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16358.0</td>\n      <td>5678.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Parempoolsed]</th>\n      <td>0.304</td>\n      <td>0.177</td>\n      <td>-0.022</td>\n      <td>0.640</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16022.0</td>\n      <td>6039.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Reformierakond]</th>\n      <td>-0.466</td>\n      <td>0.077</td>\n      <td>-0.623</td>\n      <td>-0.336</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>15343.0</td>\n      <td>6863.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, Rohelised]</th>\n      <td>0.001</td>\n      <td>0.143</td>\n      <td>-0.281</td>\n      <td>0.261</td>\n      <td>0.001</td>\n      <td>0.002</td>\n      <td>17370.0</td>\n      <td>6133.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Basic education, SDE]</th>\n      <td>-0.381</td>\n      <td>0.115</td>\n      <td>-0.588</td>\n      <td>-0.158</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11402.0</td>\n      <td>6367.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, EKRE]</th>\n      <td>-0.336</td>\n      <td>0.064</td>\n      <td>-0.453</td>\n      <td>-0.214</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>16515.0</td>\n      <td>6292.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Eesti 200]</th>\n      <td>0.365</td>\n      <td>0.073</td>\n      <td>0.230</td>\n      <td>0.508</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>13045.0</td>\n      <td>6551.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Undecided]</th>\n      <td>-0.173</td>\n      <td>0.063</td>\n      <td>-0.291</td>\n      <td>-0.055</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>15164.0</td>\n      <td>6155.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Isamaa]</th>\n      <td>-0.104</td>\n      <td>0.084</td>\n      <td>-0.255</td>\n      <td>0.054</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16875.0</td>\n      <td>6313.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Keskerakond]</th>\n      <td>-0.280</td>\n      <td>0.066</td>\n      <td>-0.407</td>\n      <td>-0.161</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>15162.0</td>\n      <td>6066.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Mitte ükski erakond]</th>\n      <td>-0.231</td>\n      <td>0.056</td>\n      <td>-0.339</td>\n      <td>-0.129</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14425.0</td>\n      <td>6429.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Other]</th>\n      <td>-0.145</td>\n      <td>0.143</td>\n      <td>-0.417</td>\n      <td>0.121</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>17730.0</td>\n      <td>5713.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Parempoolsed]</th>\n      <td>0.050</td>\n      <td>0.157</td>\n      <td>-0.249</td>\n      <td>0.353</td>\n      <td>0.001</td>\n      <td>0.002</td>\n      <td>16159.0</td>\n      <td>6270.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Reformierakond]</th>\n      <td>0.400</td>\n      <td>0.055</td>\n      <td>0.302</td>\n      <td>0.507</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14947.0</td>\n      <td>6182.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, Rohelised]</th>\n      <td>0.029</td>\n      <td>0.119</td>\n      <td>-0.198</td>\n      <td>0.255</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>18364.0</td>\n      <td>5719.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Higher education, SDE]</th>\n      <td>0.425</td>\n      <td>0.081</td>\n      <td>0.272</td>\n      <td>0.577</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11128.0</td>\n      <td>6702.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, EKRE]</th>\n      <td>0.128</td>\n      <td>0.057</td>\n      <td>0.027</td>\n      <td>0.242</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12401.0</td>\n      <td>6724.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Eesti 200]</th>\n      <td>0.006</td>\n      <td>0.072</td>\n      <td>-0.125</td>\n      <td>0.144</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11841.0</td>\n      <td>6781.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Undecided]</th>\n      <td>0.121</td>\n      <td>0.058</td>\n      <td>0.010</td>\n      <td>0.227</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>12417.0</td>\n      <td>7297.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Isamaa]</th>\n      <td>0.135</td>\n      <td>0.080</td>\n      <td>-0.013</td>\n      <td>0.285</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>12403.0</td>\n      <td>6082.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Keskerakond]</th>\n      <td>-0.041</td>\n      <td>0.060</td>\n      <td>-0.155</td>\n      <td>0.065</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>13487.0</td>\n      <td>6578.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Mitte ükski erakond]</th>\n      <td>0.056</td>\n      <td>0.051</td>\n      <td>-0.039</td>\n      <td>0.150</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12410.0</td>\n      <td>7802.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Other]</th>\n      <td>-0.042</td>\n      <td>0.135</td>\n      <td>-0.291</td>\n      <td>0.218</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16671.0</td>\n      <td>6445.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Parempoolsed]</th>\n      <td>-0.355</td>\n      <td>0.159</td>\n      <td>-0.647</td>\n      <td>-0.057</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14857.0</td>\n      <td>6236.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Reformierakond]</th>\n      <td>0.067</td>\n      <td>0.053</td>\n      <td>-0.036</td>\n      <td>0.165</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12447.0</td>\n      <td>6660.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, Rohelised]</th>\n      <td>-0.030</td>\n      <td>0.110</td>\n      <td>-0.240</td>\n      <td>0.172</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14568.0</td>\n      <td>6149.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_education[Secondary education, SDE]</th>\n      <td>-0.044</td>\n      <td>0.079</td>\n      <td>-0.185</td>\n      <td>0.112</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>10521.0</td>\n      <td>6345.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#79bb6e45 .cell execution_count=50}\n``` {.python .cell-code}\naz.summary(idata2, var_names='α_gender')\n```\n\n::: {.cell-output .cell-output-display execution_count=50}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_gender[Female, EKRE]</th>\n      <td>-0.228</td>\n      <td>0.041</td>\n      <td>-0.308</td>\n      <td>-0.157</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>17338.0</td>\n      <td>6441.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Eesti 200]</th>\n      <td>0.031</td>\n      <td>0.047</td>\n      <td>-0.057</td>\n      <td>0.118</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>16743.0</td>\n      <td>6071.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Undecided]</th>\n      <td>0.178</td>\n      <td>0.041</td>\n      <td>0.101</td>\n      <td>0.253</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>15502.0</td>\n      <td>6196.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Isamaa]</th>\n      <td>-0.209</td>\n      <td>0.053</td>\n      <td>-0.306</td>\n      <td>-0.110</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>18282.0</td>\n      <td>5863.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Keskerakond]</th>\n      <td>0.059</td>\n      <td>0.043</td>\n      <td>-0.023</td>\n      <td>0.139</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>17925.0</td>\n      <td>6789.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Mitte ükski erakond]</th>\n      <td>0.005</td>\n      <td>0.036</td>\n      <td>-0.062</td>\n      <td>0.072</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>13068.0</td>\n      <td>5882.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Other]</th>\n      <td>-0.089</td>\n      <td>0.092</td>\n      <td>-0.259</td>\n      <td>0.088</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>15853.0</td>\n      <td>5529.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Parempoolsed]</th>\n      <td>-0.018</td>\n      <td>0.101</td>\n      <td>-0.206</td>\n      <td>0.175</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>17983.0</td>\n      <td>6359.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Reformierakond]</th>\n      <td>0.009</td>\n      <td>0.035</td>\n      <td>-0.056</td>\n      <td>0.074</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14718.0</td>\n      <td>6247.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, Rohelised]</th>\n      <td>0.087</td>\n      <td>0.078</td>\n      <td>-0.056</td>\n      <td>0.237</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>17240.0</td>\n      <td>6054.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Female, SDE]</th>\n      <td>0.174</td>\n      <td>0.050</td>\n      <td>0.082</td>\n      <td>0.270</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12087.0</td>\n      <td>6810.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, EKRE]</th>\n      <td>0.228</td>\n      <td>0.041</td>\n      <td>0.157</td>\n      <td>0.308</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>17338.0</td>\n      <td>6441.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Eesti 200]</th>\n      <td>-0.031</td>\n      <td>0.047</td>\n      <td>-0.118</td>\n      <td>0.057</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>16743.0</td>\n      <td>6071.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Undecided]</th>\n      <td>-0.178</td>\n      <td>0.041</td>\n      <td>-0.253</td>\n      <td>-0.101</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>15502.0</td>\n      <td>6196.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Isamaa]</th>\n      <td>0.209</td>\n      <td>0.053</td>\n      <td>0.110</td>\n      <td>0.306</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>18282.0</td>\n      <td>5863.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Keskerakond]</th>\n      <td>-0.059</td>\n      <td>0.043</td>\n      <td>-0.139</td>\n      <td>0.023</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>17925.0</td>\n      <td>6789.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Mitte ükski erakond]</th>\n      <td>-0.005</td>\n      <td>0.036</td>\n      <td>-0.072</td>\n      <td>0.062</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>13068.0</td>\n      <td>5882.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Other]</th>\n      <td>0.089</td>\n      <td>0.092</td>\n      <td>-0.088</td>\n      <td>0.259</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>15853.0</td>\n      <td>5529.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Parempoolsed]</th>\n      <td>0.018</td>\n      <td>0.101</td>\n      <td>-0.175</td>\n      <td>0.206</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>17983.0</td>\n      <td>6359.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Reformierakond]</th>\n      <td>-0.009</td>\n      <td>0.035</td>\n      <td>-0.074</td>\n      <td>0.056</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14718.0</td>\n      <td>6247.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, Rohelised]</th>\n      <td>-0.087</td>\n      <td>0.078</td>\n      <td>-0.237</td>\n      <td>0.056</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>17240.0</td>\n      <td>6054.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_gender[Male, SDE]</th>\n      <td>-0.174</td>\n      <td>0.050</td>\n      <td>-0.270</td>\n      <td>-0.082</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>12087.0</td>\n      <td>6810.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#af131ab9 .cell execution_count=51}\n``` {.python .cell-code}\naz.summary(idata2, var_names='α_nationality')\n```\n\n::: {.cell-output .cell-output-display execution_count=51}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>mean</th>\n      <th>sd</th>\n      <th>hdi_3%</th>\n      <th>hdi_97%</th>\n      <th>mcse_mean</th>\n      <th>mcse_sd</th>\n      <th>ess_bulk</th>\n      <th>ess_tail</th>\n      <th>r_hat</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>α_nationality[Estonian, EKRE]</th>\n      <td>0.169</td>\n      <td>0.053</td>\n      <td>0.073</td>\n      <td>0.271</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14414.0</td>\n      <td>6430.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Eesti 200]</th>\n      <td>0.130</td>\n      <td>0.057</td>\n      <td>0.018</td>\n      <td>0.233</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>15715.0</td>\n      <td>7377.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Undecided]</th>\n      <td>-0.159</td>\n      <td>0.046</td>\n      <td>-0.244</td>\n      <td>-0.072</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14413.0</td>\n      <td>7107.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Isamaa]</th>\n      <td>0.518</td>\n      <td>0.079</td>\n      <td>0.366</td>\n      <td>0.660</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>13569.0</td>\n      <td>6383.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Keskerakond]</th>\n      <td>-0.675</td>\n      <td>0.045</td>\n      <td>-0.756</td>\n      <td>-0.590</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14815.0</td>\n      <td>6751.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Mitte ükski erakond]</th>\n      <td>-0.294</td>\n      <td>0.040</td>\n      <td>-0.373</td>\n      <td>-0.222</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>13450.0</td>\n      <td>6685.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Other]</th>\n      <td>-0.225</td>\n      <td>0.095</td>\n      <td>-0.400</td>\n      <td>-0.044</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16229.0</td>\n      <td>5764.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Parempoolsed]</th>\n      <td>-0.145</td>\n      <td>0.106</td>\n      <td>-0.340</td>\n      <td>0.052</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>15378.0</td>\n      <td>6900.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Reformierakond]</th>\n      <td>0.730</td>\n      <td>0.057</td>\n      <td>0.625</td>\n      <td>0.837</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>13500.0</td>\n      <td>6581.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, Rohelised]</th>\n      <td>-0.015</td>\n      <td>0.088</td>\n      <td>-0.183</td>\n      <td>0.145</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14598.0</td>\n      <td>6308.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Estonian, SDE]</th>\n      <td>-0.033</td>\n      <td>0.058</td>\n      <td>-0.140</td>\n      <td>0.080</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11830.0</td>\n      <td>6737.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, EKRE]</th>\n      <td>-0.169</td>\n      <td>0.053</td>\n      <td>-0.271</td>\n      <td>-0.073</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14414.0</td>\n      <td>6430.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Eesti 200]</th>\n      <td>-0.130</td>\n      <td>0.057</td>\n      <td>-0.233</td>\n      <td>-0.018</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>15715.0</td>\n      <td>7377.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Undecided]</th>\n      <td>0.159</td>\n      <td>0.046</td>\n      <td>0.072</td>\n      <td>0.244</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14413.0</td>\n      <td>7107.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Isamaa]</th>\n      <td>-0.518</td>\n      <td>0.079</td>\n      <td>-0.660</td>\n      <td>-0.366</td>\n      <td>0.001</td>\n      <td>0.000</td>\n      <td>13569.0</td>\n      <td>6383.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Keskerakond]</th>\n      <td>0.675</td>\n      <td>0.045</td>\n      <td>0.590</td>\n      <td>0.756</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>14815.0</td>\n      <td>6751.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Mitte ükski erakond]</th>\n      <td>0.294</td>\n      <td>0.040</td>\n      <td>0.222</td>\n      <td>0.373</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>13450.0</td>\n      <td>6685.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Other]</th>\n      <td>0.225</td>\n      <td>0.095</td>\n      <td>0.044</td>\n      <td>0.400</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>16229.0</td>\n      <td>5764.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Parempoolsed]</th>\n      <td>0.145</td>\n      <td>0.106</td>\n      <td>-0.052</td>\n      <td>0.340</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>15378.0</td>\n      <td>6900.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Reformierakond]</th>\n      <td>-0.730</td>\n      <td>0.057</td>\n      <td>-0.837</td>\n      <td>-0.625</td>\n      <td>0.000</td>\n      <td>0.000</td>\n      <td>13500.0</td>\n      <td>6581.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, Rohelised]</th>\n      <td>0.015</td>\n      <td>0.088</td>\n      <td>-0.145</td>\n      <td>0.183</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>14598.0</td>\n      <td>6308.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>α_nationality[Other, SDE]</th>\n      <td>0.033</td>\n      <td>0.058</td>\n      <td>-0.080</td>\n      <td>0.140</td>\n      <td>0.001</td>\n      <td>0.001</td>\n      <td>11830.0</td>\n      <td>6737.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nThe fit took predictably longer; 2 minutes and 20 seconds on my macbook air m2. Moreover, \n* There were no divergences;\n* Posteriors look sound and the traces exhibit good mixing for all chains;\n* All $\\hat{R}$ values were 1\n* Bulk and tail ESS are about the same as the model with two predictors and relatively informative priors suggesting sampling efficiency has not deteriorated as a result of the increased model complexity.\n\n::: {#963be0a1 .cell execution_count=52}\n``` {.python .cell-code}\nf, (axl, axr) = plot_forward_samples(idata2, categories=party_choice_label, categories_name='party choice', figsize=(12, 6))\naxl.set_xticklabels(axl.get_xticklabels(), rotation=60);\naxl.bar(x=axl.get_xticks(), height=mean_win.values,  color='k', fill=False, lw=3, width=1, zorder=13, label='data');\naxr.set_xticklabels(axr.get_xticklabels(), rotation=60);\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/Users/erdemkarakoylu/miniconda3/envs/pymc_base/lib/python3.12/site-packages/IPython/core/pylabtools.py:170: UserWarning: Creating legend with loc=\"best\" can be slow with large amounts of data.\n  fig.canvas.print_figure(bytes_io, **kw)\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](elections_estonia_files/figure-html/cell-53-output-2.png){width=1137 height=604}\n:::\n:::\n\n\n",
    "supporting": [
      "elections_estonia_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n<script src=\"https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js\" crossorigin=\"anonymous\"></script>\n"
      ],
      "include-after-body": [
        "<script type=application/vnd.jupyter.widget-state+json>\n{\"state\":{\"444785556c1f425785556a45568f383a\":{\"model_module\":\"@jupyter-widgets/output\",\"model_module_version\":\"1.0.0\",\"model_name\":\"OutputModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/output\",\"_model_module_version\":\"1.0.0\",\"_model_name\":\"OutputModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/output\",\"_view_module_version\":\"1.0.0\",\"_view_name\":\"OutputView\",\"layout\":\"IPY_MODEL_b69a9117696346f587ec047a8ae3e937\",\"msg_id\":\"\",\"outputs\":[{\"data\":{\"text/html\":\"<pre style=\\\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\\\">Sampling ... <span style=\\\"color: #008000; text-decoration-color: #008000\\\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span style=\\\"color: #800080; text-decoration-color: #800080\\\">100%</span> <span style=\\\"color: #008080; text-decoration-color: #008080\\\">0:00:00</span> / <span style=\\\"color: #808000; text-decoration-color: #808000\\\">0:01:20</span>\\n</pre>\\n\",\"text/plain\":\"Sampling ... \\u001b[32m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\u001b[0m \\u001b[35m100%\\u001b[0m \\u001b[36m0:00:00\\u001b[0m / \\u001b[33m0:01:20\\u001b[0m\\n\"},\"metadata\":{},\"output_type\":\"display_data\"}],\"tabbable\":null,\"tooltip\":null}},\"48b723b5038049a58d98d22eb4c91494\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"50d289a7489946c3a429ec83b02a2979\":{\"model_module\":\"@jupyter-widgets/output\",\"model_module_version\":\"1.0.0\",\"model_name\":\"OutputModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/output\",\"_model_module_version\":\"1.0.0\",\"_model_name\":\"OutputModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/output\",\"_view_module_version\":\"1.0.0\",\"_view_name\":\"OutputView\",\"layout\":\"IPY_MODEL_ad8c406fa4b44aaabc4768405996d58d\",\"msg_id\":\"\",\"outputs\":[{\"data\":{\"text/html\":\"<pre style=\\\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\\\">Sampling ... <span style=\\\"color: #008000; text-decoration-color: #008000\\\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span style=\\\"color: #800080; text-decoration-color: #800080\\\">100%</span> <span style=\\\"color: #008080; text-decoration-color: #008080\\\">0:00:00</span> / <span style=\\\"color: #808000; text-decoration-color: #808000\\\">0:01:23</span>\\n</pre>\\n\",\"text/plain\":\"Sampling ... \\u001b[32m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\u001b[0m \\u001b[35m100%\\u001b[0m \\u001b[36m0:00:00\\u001b[0m / \\u001b[33m0:01:23\\u001b[0m\\n\"},\"metadata\":{},\"output_type\":\"display_data\"}],\"tabbable\":null,\"tooltip\":null}},\"517cab43a7b54f4ea7f7b5d24e10860b\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"740a37a0783649aca0d62443255712cc\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"a92f0a9771c7461da7459a76ab465d12\":{\"model_module\":\"@jupyter-widgets/output\",\"model_module_version\":\"1.0.0\",\"model_name\":\"OutputModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/output\",\"_model_module_version\":\"1.0.0\",\"_model_name\":\"OutputModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/output\",\"_view_module_version\":\"1.0.0\",\"_view_name\":\"OutputView\",\"layout\":\"IPY_MODEL_48b723b5038049a58d98d22eb4c91494\",\"msg_id\":\"\",\"outputs\":[{\"data\":{\"text/html\":\"<pre style=\\\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\\\">Sampling 4 chains, 0 divergences <span style=\\\"color: #008000; text-decoration-color: #008000\\\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span style=\\\"color: #800080; text-decoration-color: #800080\\\">100%</span> <span style=\\\"color: #008080; text-decoration-color: #008080\\\">0:00:00</span> / <span style=\\\"color: #808000; text-decoration-color: #808000\\\">0:01:19</span>\\n</pre>\\n\",\"text/plain\":\"Sampling 4 chains, 0 divergences \\u001b[32m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\u001b[0m \\u001b[35m100%\\u001b[0m \\u001b[36m0:00:00\\u001b[0m / \\u001b[33m0:01:19\\u001b[0m\\n\"},\"metadata\":{},\"output_type\":\"display_data\"}],\"tabbable\":null,\"tooltip\":null}},\"ad8c406fa4b44aaabc4768405996d58d\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"b69a9117696346f587ec047a8ae3e937\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"c7d0ec04c61f4709bd298db879ed5902\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"f9d36301b4824ee48ce08dfb12aa2f42\":{\"model_module\":\"@jupyter-widgets/output\",\"model_module_version\":\"1.0.0\",\"model_name\":\"OutputModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/output\",\"_model_module_version\":\"1.0.0\",\"_model_name\":\"OutputModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/output\",\"_view_module_version\":\"1.0.0\",\"_view_name\":\"OutputView\",\"layout\":\"IPY_MODEL_740a37a0783649aca0d62443255712cc\",\"msg_id\":\"\",\"outputs\":[{\"data\":{\"text/html\":\"<pre style=\\\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\\\">Sampling 4 chains, 0 divergences <span style=\\\"color: #008000; text-decoration-color: #008000\\\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span style=\\\"color: #800080; text-decoration-color: #800080\\\">100%</span> <span style=\\\"color: #008080; text-decoration-color: #008080\\\">0:00:00</span> / <span style=\\\"color: #808000; text-decoration-color: #808000\\\">0:01:31</span>\\n</pre>\\n\",\"text/plain\":\"Sampling 4 chains, 0 divergences \\u001b[32m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\u001b[0m \\u001b[35m100%\\u001b[0m \\u001b[36m0:00:00\\u001b[0m / \\u001b[33m0:01:31\\u001b[0m\\n\"},\"metadata\":{},\"output_type\":\"display_data\"}],\"tabbable\":null,\"tooltip\":null}},\"fd23a326db0c44b0bd76dbcfdb2a66a4\":{\"model_module\":\"@jupyter-widgets/output\",\"model_module_version\":\"1.0.0\",\"model_name\":\"OutputModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/output\",\"_model_module_version\":\"1.0.0\",\"_model_name\":\"OutputModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/output\",\"_view_module_version\":\"1.0.0\",\"_view_name\":\"OutputView\",\"layout\":\"IPY_MODEL_c7d0ec04c61f4709bd298db879ed5902\",\"msg_id\":\"\",\"outputs\":[{\"data\":{\"text/html\":\"<pre style=\\\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\\\">Sampling 4 chains, 0 divergences <span style=\\\"color: #008000; text-decoration-color: #008000\\\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span style=\\\"color: #800080; text-decoration-color: #800080\\\">100%</span> <span style=\\\"color: #008080; text-decoration-color: #008080\\\">0:00:00</span> / <span style=\\\"color: #808000; text-decoration-color: #808000\\\">0:02:09</span>\\n</pre>\\n\",\"text/plain\":\"Sampling 4 chains, 0 divergences \\u001b[32m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\u001b[0m \\u001b[35m100%\\u001b[0m \\u001b[36m0:00:00\\u001b[0m / \\u001b[33m0:02:09\\u001b[0m\\n\"},\"metadata\":{},\"output_type\":\"display_data\"}],\"tabbable\":null,\"tooltip\":null}},\"fed766147f304c74a5c6e89f9930b998\":{\"model_module\":\"@jupyter-widgets/output\",\"model_module_version\":\"1.0.0\",\"model_name\":\"OutputModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/output\",\"_model_module_version\":\"1.0.0\",\"_model_name\":\"OutputModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/output\",\"_view_module_version\":\"1.0.0\",\"_view_name\":\"OutputView\",\"layout\":\"IPY_MODEL_517cab43a7b54f4ea7f7b5d24e10860b\",\"msg_id\":\"\",\"outputs\":[{\"data\":{\"text/html\":\"<pre style=\\\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\\\">Sampling ... <span style=\\\"color: #008000; text-decoration-color: #008000\\\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span style=\\\"color: #800080; text-decoration-color: #800080\\\">100%</span> <span style=\\\"color: #008080; text-decoration-color: #008080\\\">0:00:00</span> / <span style=\\\"color: #808000; text-decoration-color: #808000\\\">0:01:20</span>\\n</pre>\\n\",\"text/plain\":\"Sampling ... \\u001b[32m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\u001b[0m \\u001b[35m100%\\u001b[0m \\u001b[36m0:00:00\\u001b[0m / \\u001b[33m0:01:20\\u001b[0m\\n\"},\"metadata\":{},\"output_type\":\"display_data\"}],\"tabbable\":null,\"tooltip\":null}}},\"version_major\":2,\"version_minor\":0}\n</script>\n"
      ]
    }
  }
}